version: '2'
services:
    application:
        build:
            context: .
            dockerfile: application.Dockerfile
        container_name: "application"
    tomcat:
        build:
            context: .
            dockerfile: tomcat.Dockerfile
        container_name: tomcat
        depends_on: 
            - "application"
        volumes_from: 
            - "application"           
    nginx:
        build:
            context: .
            dockerfile: web.Dockerfile
        container_name: "nginx"
        depends_on: 
            - "tomcat"
        ports:
            - "80:80"
